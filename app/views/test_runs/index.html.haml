- content_for :title do
  Project - #{@project.name} - #{@scenario.name}
= javascript_include_tag 'step_status'

= render 'projects/projects_header'

.row
  .col-md-12
    / Project widget
    .awidget
      .awidget-head
        %div#tour-test-runs-go
          = play_button(@scenario)
          =# play_developer_mode_button(@scenario)
          %div{id: "test_run-#{@scenario.id}", style: "display: none;"}
            %h4{style: "font-weight: bold; margin-top: 10px;"} Start A New Test Run
            = form_tag run_scenario_project_test_path(@project, @scenario.id), class:"scenario-run", id: "scenario_#{@scenario.id}" do
              %div.pull-left{style: "width: 33%"}
                %h4 Windows
                %ul{style: "list-style-type: none;"}
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "windows_firefox"
                    = image_tag('icons/firefox.png', alt: "Firefox")
                    Firefox
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "windows_chrome"
                    = image_tag('icons/chrome.png', alt: "Chrome")
                    Chrome
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "windows_ie9"
                    = image_tag('icons/ie.png', alt: "Internet Explorer 9")
                    Internet Explorer 9
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "windows_ie10"
                    = image_tag('icons/ie.png', alt: "Internet Explorer 10")
                    Internet Explorer 10
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "windows_ie11"
                    = image_tag('icons/ie.png', alt: "Internet Explorer 11")
                    Internet Explorer 11
              %div.pull-left{style: "width: 33%"}
                %h4 Linux
                %ul{style: "list-style-type: none;"}
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "linux_firefox"
                    = image_tag('icons/firefox.png', alt: "Firefox")
                    Firefox
                  %li{style: "border-top: 0px; padding: 2px;"}
                    = check_box_tag "browsers[]", "linux_chrome"
                    = image_tag('icons/chrome.png', alt: "Chrome")
                    Chrome
              %div.clearfix
              %div.buttons{style: "padding: 5px; text-align: right;"}
                %span.hide.concurrency-warning
                  Your plan only allows
                  %span.concurrency-limit
                    #{@concurrency_limit}
                  concurrent browsers for a test run
                = submit_tag "Run Tests", class: "btn btn-info run-test", disabled: true
        %h3#tour-test-runs-more Test Runs
      .awidget-body
        %br
        %br
        - @scenario.all_test_runs.each_with_index do |test_run, index|
          .test_run{id: "#{index == 0 ? 'tour-test-runs-results' : nil}"}
            = render partial: 'test_run', locals: {test_run: test_run}
            %br{style: "clear: both;"}

%ol.joyride-tour#test-runs-tour
  %li{data: {id: "tour-test-runs-start", button: 'Next'}}
    %h1 Test Page
    %p This is your test's page!
  %li{data: {id: "tour-test-runs-more", button: "Next"}}
    %p Check what steps your test is comprised of
  %li{data: {id: "tour-test-runs-results", button: "Next"}}
    %h1 Test Results
    %p In this area you'll see each information about each time your test was run, and be able to get more info, email info to dev, or watch the test in dev mode
  %li{data: {id: "tour-test-runs-go", button: "Close"}}
    %h1 Let 'Er Rip
    %p Now go ahead and click here, let's run a test! To keep things simple, just choose one or two browsers on the next screen and run the test.
